"use client";

import React from "react";

interface SVGProgressLoaderProps {
  progress: number;
}

const SVGProgressLoader: React.FC<SVGProgressLoaderProps> = ({ progress }) => {
  return (
    <div className="relative">
      {/* Background SVG (gray) */}
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="112"
        height="111"
        viewBox="0 0 112 111"
        fill="none"
        className="drop-shadow-lg"
      >
        {/* Progress percentage text */}
        <text
          x="56"
          y="60"
          textAnchor="middle"
          dominantBaseline="middle"
          fill="#F45201"
          fontSize="20"
          fontWeight="bold"
          fontFamily="VT323, monospace"
        >
          {progress}%
        </text>
        <g opacity="0.3">
          <path
            d="M62.4131 110.996C60.8039 110.996 59.4629 109.693 59.4629 108.084V85.3638C59.4629 83.9462 60.4591 82.7201 61.8384 82.4903C63.9457 82.0688 66.0146 81.4174 67.9686 80.4596C68.3773 80.2808 68.7988 80.1914 69.233 80.1914C70.1909 80.1914 71.0721 80.6129 71.6085 81.3791L85.0184 99.6933C85.5165 100.383 85.7081 101.226 85.5548 102.03C85.3633 102.873 84.9035 103.563 84.1755 103.985C77.5855 107.854 70.3441 110.23 62.7196 110.996C62.6174 110.996 62.5153 110.996 62.4131 110.996Z"
            fill="rgba(255, 255, 255, 0.2)"
          />
        </g>
        <g opacity="0.2">
          <path
            d="M43.7923 32.2986C42.7962 32.2986 41.8766 31.8006 41.3019 30.996L27.0874 11.6473C26.551 10.9193 26.3594 9.9998 26.551 9.11857C26.7425 8.27566 27.2789 7.54766 28.0069 7.12621C34.7119 3.29479 41.9533 0.919303 49.6161 0.0763908C49.7438 0.050848 49.8588 0.0380859 49.9609 0.0380859C51.6851 0.0380859 53.0644 1.4557 53.0644 3.14152V27.0879C53.0644 28.5821 52.0299 29.9232 50.574 30.1914C48.6582 30.6128 46.8192 31.2258 45.0184 32.0304C44.6353 32.2092 44.2266 32.2986 43.7923 32.2986Z"
            fill="rgba(255, 255, 255, 0.2)"
          />
        </g>
        <g opacity="0.2">
          <path
            d="M51.8772 110.958C51.775 110.958 51.6601 110.958 51.5324 110.958C44.4442 110.153 37.7009 108.008 31.494 104.483C30.7661 104.1 30.268 103.41 30.0764 102.606C29.9232 101.763 30.0764 100.92 30.5745 100.23L44.0611 81.8393C44.5975 81.073 45.517 80.6133 46.4366 80.6133C46.8197 80.6133 47.2029 80.6899 47.586 80.8432C49.1569 81.5328 50.8044 82.0692 52.4902 82.414C53.8312 82.6822 54.7891 83.87 54.7891 85.2876V108.008C54.7891 108.813 54.4825 109.54 53.9078 110.115C53.3714 110.652 52.6435 110.958 51.8772 110.958Z"
            fill="rgba(255, 255, 255, 0.2)"
          />
        </g>
        <path
          d="M68.7741 32.7586C68.2888 32.7586 67.829 32.6564 67.3948 32.4521C65.2109 31.341 62.8737 30.5747 60.4982 30.1149C59.0423 29.8467 58.0078 28.5824 58.0078 27.0881V3.10344C58.0078 1.3793 59.4254 0 61.1113 0C61.2134 0 61.3284 0 61.4561 0C69.6553 0.842912 77.4331 3.40995 84.5212 7.70114C85.2875 8.1226 85.7856 8.85058 85.9388 9.73181C86.1304 10.613 85.9388 11.456 85.4025 12.1839L71.2645 31.4942C70.6898 32.2988 69.7703 32.7586 68.7741 32.7586Z"
          fill="rgba(255, 255, 255, 0.2)"
        />
        <g opacity="0.2">
          <path
            d="M4.21456 69.4255C2.75862 69.4255 1.49426 68.391 1.18774 66.9734C0.421458 63.2186 0 59.3489 0 55.5174C0 51.6477 0.421458 47.8163 1.18774 44.0615C1.49426 42.6439 2.75862 41.6094 4.21456 41.6094C4.54662 41.6094 4.8659 41.6605 5.17241 41.7626L28.0077 49.1189C29.4253 49.5787 30.3448 50.958 30.1533 52.3756C30.0383 53.4101 29.9617 54.4446 29.9617 55.5174C29.9617 56.5902 30.0383 57.7013 30.1916 58.7741C30.3448 60.2684 29.4636 61.686 28.0077 62.1458L5.1341 69.2722C4.82759 69.3744 4.52107 69.4255 4.21456 69.4255Z"
            fill="rgba(255, 255, 255, 0.2)"
          />
        </g>
        <g opacity="0.8">
          <path
            d="M81.1108 45.4406C79.9614 45.4406 78.8886 44.8276 78.3905 43.8314C77.4326 41.9923 76.2832 40.3065 74.9422 38.7356C73.946 37.5862 73.8694 35.977 74.7123 34.7893L88.9269 15.4023C89.5399 14.5593 90.4594 14.0996 91.4556 14.0996C92.2602 14.0996 92.9882 14.4061 93.5629 14.9425C99.3483 20.3448 103.793 26.7816 106.858 34.023C107.203 34.8276 107.203 35.7088 106.82 36.5134C106.436 37.318 105.747 37.931 104.904 38.1992L82.0686 45.3257C81.7621 45.4023 81.4428 45.4406 81.1108 45.4406Z"
            fill="rgba(255, 255, 255, 0.2)"
          />
        </g>
        <g opacity="0.5">
          <path
            d="M107.395 69.3102C107.063 69.3102 106.743 69.2591 106.437 69.1569L83.5632 61.8006C82.1456 61.3409 81.2644 59.9999 81.4176 58.5439C81.5326 57.5478 81.6092 56.5133 81.6092 55.5171C81.6092 54.7508 81.5709 53.9845 81.4942 53.2183C81.3793 51.7623 82.2989 50.383 83.6782 49.9616L106.628 42.7968C106.935 42.6946 107.241 42.6436 107.548 42.6436C109.042 42.6436 110.345 43.7546 110.613 45.2489C111.264 48.5822 111.571 52.0688 111.571 55.5171C111.571 59.3102 111.188 63.1416 110.421 66.8581C110.115 68.2757 108.851 69.3102 107.395 69.3102Z"
            fill="rgba(255, 255, 255, 0.2)"
          />
        </g>
        <g opacity="0.2">
          <path
            d="M20.9184 98.0846C20.1521 98.0846 19.4241 97.8164 18.8877 97.3183C12.9107 92.031 8.04481 85.4409 4.82642 78.1612C4.44328 77.3566 4.44328 76.4754 4.82642 75.6325C5.17125 74.8279 5.8609 74.2149 6.74213 73.9467L29.6923 66.782C29.9988 66.7053 30.3053 66.667 30.6119 66.667C31.723 66.667 32.7575 67.2417 33.2939 68.1996C34.405 70.1153 35.746 71.9161 37.2785 73.4869C38.3513 74.598 38.4663 76.2839 37.585 77.5099L23.4471 96.8202C22.8341 97.6248 21.9145 98.0846 20.9184 98.0846Z"
            fill="rgba(255, 255, 255, 0.2)"
          />
        </g>
        <g opacity="0.4">
          <path
            d="M91.4563 97.3565C90.4601 97.3565 89.5406 96.8968 88.9659 96.0922L74.7896 76.7435C73.9084 75.5558 73.9467 73.9083 74.9046 72.8355C76.2839 71.3412 77.4716 69.6937 78.4295 67.9313C78.9659 66.9734 80.0004 66.3604 81.1115 66.3604C81.4435 66.3604 81.7756 66.4114 82.1076 66.5136L104.905 73.87C105.747 74.1382 106.437 74.7512 106.82 75.5558C107.165 76.3604 107.165 77.2416 106.82 78.0462C103.717 85.096 99.2341 91.3412 93.5253 96.5519C92.9889 97.0883 92.2226 97.3565 91.4563 97.3565Z"
            fill="rgba(255, 255, 255, 0.2)"
          />
        </g>
        <g opacity="0.2">
          <path
            d="M30.4987 44.5598C30.1666 44.5598 29.8473 44.5087 29.5408 44.4065L6.70558 37.0501C5.82435 36.7819 5.17301 36.169 4.78987 35.3644C4.44504 34.5598 4.44504 33.6785 4.78987 32.8356C8.00826 25.6325 12.606 19.3107 18.5063 14.0233C19.0811 13.5253 19.809 13.2188 20.537 13.2188C21.5715 13.2188 22.491 13.6785 23.0657 14.5214L37.2803 33.9084C38.1232 35.0961 38.0083 36.7053 36.9738 37.8164C35.5178 39.3873 34.2535 41.1115 33.219 42.9888C32.6443 43.9467 31.6098 44.5598 30.4987 44.5598Z"
            fill="rgba(255, 255, 255, 0.2)"
          />
        </g>
      </svg>

      {/* Foreground SVG with fill animation */}
      <div
        className="absolute inset-0 overflow-hidden transition-all duration-300 ease-out"
        style={{
          clipPath: `inset(${100 - progress}% 0 0 0)`,
        }}
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="112"
          height="111"
          viewBox="0 0 112 111"
          fill="none"
          className="drop-shadow-lg"
        >
          {/* Progress percentage text */}
          <text
            x="56"
            y="60"
            textAnchor="middle"
            dominantBaseline="middle"
            fill="#F45201"
            fontSize="20"
            fontWeight="bold"
            fontFamily="VT323, monospace"
          >
            {progress}%
          </text>
          <g opacity="0.3">
            <path
              d="M62.4131 110.996C60.8039 110.996 59.4629 109.693 59.4629 108.084V85.3638C59.4629 83.9462 60.4591 82.7201 61.8384 82.4903C63.9457 82.0688 66.0146 81.4174 67.9686 80.4596C68.3773 80.2808 68.7988 80.1914 69.233 80.1914C70.1909 80.1914 71.0721 80.6129 71.6085 81.3791L85.0184 99.6933C85.5165 100.383 85.7081 101.226 85.5548 102.03C85.3633 102.873 84.9035 103.563 84.1755 103.985C77.5855 107.854 70.3441 110.23 62.7196 110.996C62.6174 110.996 62.5153 110.996 62.4131 110.996Z"
              fill="#F45201"
            />
          </g>
          <g opacity="0.2">
            <path
              d="M43.7923 32.2986C42.7962 32.2986 41.8766 31.8006 41.3019 30.996L27.0874 11.6473C26.551 10.9193 26.3594 9.9998 26.551 9.11857C26.7425 8.27566 27.2789 7.54766 28.0069 7.12621C34.7119 3.29479 41.9533 0.919303 49.6161 0.0763908C49.7438 0.050848 49.8588 0.0380859 49.9609 0.0380859C51.6851 0.0380859 53.0644 1.4557 53.0644 3.14152V27.0879C53.0644 28.5821 52.0299 29.9232 50.574 30.1914C48.6582 30.6128 46.8192 31.2258 45.0184 32.0304C44.6353 32.2092 44.2266 32.2986 43.7923 32.2986Z"
              fill="#F45201"
            />
          </g>
          <g opacity="0.2">
            <path
              d="M51.8772 110.958C51.775 110.958 51.6601 110.958 51.5324 110.958C44.4442 110.153 37.7009 108.008 31.494 104.483C30.7661 104.1 30.268 103.41 30.0764 102.606C29.9232 101.763 30.0764 100.92 30.5745 100.23L44.0611 81.8393C44.5975 81.073 45.517 80.6133 46.4366 80.6133C46.8197 80.6133 47.2029 80.6899 47.586 80.8432C49.1569 81.5328 50.8044 82.0692 52.4902 82.414C53.8312 82.6822 54.7891 83.87 54.7891 85.2876V108.008C54.7891 108.813 54.4825 109.54 53.9078 110.115C53.3714 110.652 52.6435 110.958 51.8772 110.958Z"
              fill="#F45201"
            />
          </g>
          <path
            d="M68.7741 32.7586C68.2888 32.7586 67.829 32.6564 67.3948 32.4521C65.2109 31.341 62.8737 30.5747 60.4982 30.1149C59.0423 29.8467 58.0078 28.5824 58.0078 27.0881V3.10344C58.0078 1.3793 59.4254 0 61.1113 0C61.2134 0 61.3284 0 61.4561 0C69.6553 0.842912 77.4331 3.40995 84.5212 7.70114C85.2875 8.1226 85.7856 8.85058 85.9388 9.73181C86.1304 10.613 85.9388 11.456 85.4025 12.1839L71.2645 31.4942C70.6898 32.2988 69.7703 32.7586 68.7741 32.7586Z"
            fill="#F45201"
          />
          <g opacity="0.2">
            <path
              d="M4.21456 69.4255C2.75862 69.4255 1.49426 68.391 1.18774 66.9734C0.421458 63.2186 0 59.3489 0 55.5174C0 51.6477 0.421458 47.8163 1.18774 44.0615C1.49426 42.6439 2.75862 41.6094 4.21456 41.6094C4.54662 41.6094 4.8659 41.6605 5.17241 41.7626L28.0077 49.1189C29.4253 49.5787 30.3448 50.958 30.1533 52.3756C30.0383 53.4101 29.9617 54.4446 29.9617 55.5174C29.9617 56.5902 30.0383 57.7013 30.1916 58.7741C30.3448 60.2684 29.4636 61.686 28.0077 62.1458L5.1341 69.2722C4.82759 69.3744 4.52107 69.4255 4.21456 69.4255Z"
              fill="#F45201"
            />
          </g>
          <g opacity="0.8">
            <path
              d="M81.1108 45.4406C79.9614 45.4406 78.8886 44.8276 78.3905 43.8314C77.4326 41.9923 76.2832 40.3065 74.9422 38.7356C73.946 37.5862 73.8694 35.977 74.7123 34.7893L88.9269 15.4023C89.5399 14.5593 90.4594 14.0996 91.4556 14.0996C92.2602 14.0996 92.9882 14.4061 93.5629 14.9425C99.3483 20.3448 103.793 26.7816 106.858 34.023C107.203 34.8276 107.203 35.7088 106.82 36.5134C106.436 37.318 105.747 37.931 104.904 38.1992L82.0686 45.3257C81.7621 45.4023 81.4428 45.4406 81.1108 45.4406Z"
              fill="#F45201"
            />
          </g>
          <g opacity="0.5">
            <path
              d="M107.395 69.3102C107.063 69.3102 106.743 69.2591 106.437 69.1569L83.5632 61.8006C82.1456 61.3409 81.2644 59.9999 81.4176 58.5439C81.5326 57.5478 81.6092 56.5133 81.6092 55.5171C81.6092 54.7508 81.5709 53.9845 81.4942 53.2183C81.3793 51.7623 82.2989 50.383 83.6782 49.9616L106.628 42.7968C106.935 42.6946 107.241 42.6436 107.548 42.6436C109.042 42.6436 110.345 43.7546 110.613 45.2489C111.264 48.5822 111.571 52.0688 111.571 55.5171C111.571 59.3102 111.188 63.1416 110.421 66.8581C110.115 68.2757 108.851 69.3102 107.395 69.3102Z"
              fill="#F45201"
            />
          </g>
          <g opacity="0.2">
            <path
              d="M20.9184 98.0846C20.1521 98.0846 19.4241 97.8164 18.8877 97.3183C12.9107 92.031 8.04481 85.4409 4.82642 78.1612C4.44328 77.3566 4.44328 76.4754 4.82642 75.6325C5.17125 74.8279 5.8609 74.2149 6.74213 73.9467L29.6923 66.782C29.9988 66.7053 30.3053 66.667 30.6119 66.667C31.723 66.667 32.7575 67.2417 33.2939 68.1996C34.405 70.1153 35.746 71.9161 37.2785 73.4869C38.3513 74.598 38.4663 76.2839 37.585 77.5099L23.4471 96.8202C22.8341 97.6248 21.9145 98.0846 20.9184 98.0846Z"
              fill="#F45201"
            />
          </g>
          <g opacity="0.4">
            <path
              d="M91.4563 97.3565C90.4601 97.3565 89.5406 96.8968 88.9659 96.0922L74.7896 76.7435C73.9084 75.5558 73.9467 73.9083 74.9046 72.8355C76.2839 71.3412 77.4716 69.6937 78.4295 67.9313C78.9659 66.9734 80.0004 66.3604 81.1115 66.3604C81.4435 66.3604 81.7756 66.4114 82.1076 66.5136L104.905 73.87C105.747 74.1382 106.437 74.7512 106.82 75.5558C107.165 76.3604 107.165 77.2416 106.82 78.0462C103.717 85.096 99.2341 91.3412 93.5253 96.5519C92.9889 97.0883 92.2226 97.3565 91.4563 97.3565Z"
              fill="#F45201"
            />
          </g>
          <g opacity="0.2">
            <path
              d="M30.4987 44.5598C30.1666 44.5598 29.8473 44.5087 29.5408 44.4065L6.70558 37.0501C5.82435 36.7819 5.17301 36.169 4.78987 35.3644C4.44504 34.5598 4.44504 33.6785 4.78987 32.8356C8.00826 25.6325 12.606 19.3107 18.5063 14.0233C19.0811 13.5253 19.809 13.2188 20.537 13.2188C21.5715 13.2188 22.491 13.6785 23.0657 14.5214L37.2803 33.9084C38.1232 35.0961 38.0083 36.7053 36.9738 37.8164C35.5178 39.3873 34.2535 41.1115 33.219 42.9888C32.6443 43.9467 31.6098 44.5598 30.4987 44.5598Z"
              fill="#F45201"
            />
          </g>
        </svg>
      </div>
    </div>
  );
};

export default SVGProgressLoader;
